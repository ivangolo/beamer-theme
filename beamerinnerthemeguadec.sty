\mode<presentation>

\setbeamertemplate{background} {
  \begin{tikzpicture}
    \useasboundingbox (0, 0) rectangle(\the\paperwidth,\the\paperheight);

    % Draw the title page
    \ifnum\thepage=1\relax%

      \fill[color=guadecblue] (0, 0) rectangle (\the\paperwidth, \the\paperheight);    
      \fill[color=white] (0, 0) rectangle (\the\paperwidth, 6mm);

      % The footer's content
      \node[anchor=west] at (0, 3mm) {
        \textcolor{guadecblue}{\tiny{\hskip6mm\course}}};
      \node[anchor=east] at (\paperwidth, 3mm) {
        \textcolor{guadecblue}{\tiny{\insertinstitute\hskip6mm\hfill}}};
    \fi

    % Draw any other page
    \ifnum\thepage>1\relax%
      % The footer
      \fill[color=guadecblue] (0, 0) rectangle (\the\paperwidth, 6mm);

      % The footer's content
      \node[anchor=west] at (0, 3mm) {
        \textcolor{guadeclightgrey}{\tiny{\hskip6mm\insertauthor}}};
      \node[anchor=east] at (\paperwidth, 3mm) {
        \textcolor{guadeclightgrey}{\tiny{\thepage\hskip6mm\hfill}}};
    \fi
  \end{tikzpicture}
}

% Title page
\defbeamertemplate*{title page}{guadec}[1][] {
  % \centering
  % \includegraphics[width=0.672\paperheight,height=0.21\paperheight,keepaspectratio]{guadec-logo}
  % \vskip6mm%
  \hfill
  \begin{beamercolorbox}[wd=0.9\paperwidth, center, sep=6pt, #1]{title page header}
    \usebeamerfont{title}\inserttitle\par%
  \end{beamercolorbox}%
  \hfill\hfill\par%
  \hfill
  \begin{beamercolorbox}[center]{title page header}
    \usebeamerfont{title}\insertsubtitle\par%
  \end{beamercolorbox}%
  \hfill\hfill
  \vskip6mm%
  \begin{beamercolorbox}[center]{author}
    \usebeamerfont{author}\insertauthor%
  \end{beamercolorbox}
  \vskip6mm%
  \begin{beamercolorbox}[center]{author}
    \usebeamerfont{author}\insertdate%
  \end{beamercolorbox}
  \vfill%
}

\mode
<all>
